$.fn.accordionate=function(e){function t(e){e.addClass(r.activeClass);var t=o(e);a(t)}function n(e){e.removeClass(r.activeClass);var t=o(e);i(t)}function a(e){e.slideDown(function(){r.autoScroll&&s(e.eq(0))})}function i(e){e.slideUp()}function l(){return $("<a></a>",{href:"#","class":r.generatedTogglerClass,on:{click:function(e){e.preventDefault();var a=$(this).closest(r.itemSelector);if(a.hasClass(r.activeClass))n(a);else if(t(a),!r.independentPanels){var i=a.siblings(r.itemSelector).filter("."+activeClass);n(i)}}}})}function o(e){return e.find(r.panelSelector)}function s(e){$("html, body").stop().animate({scrollTop:e.offset().top-.1*$(window).height()},750)}var c={independentPanels:!0,autoScroll:!0,activeClass:"active",generatedTogglerClass:"toggler",itemStateIndicator:'<span class="indicator"></span>',itemSelector:"li",headingSelector:".heading",panelSelector:".panel"},r=$.extend({},c,e);return $(r.panelSelector,this).hide(),this.each(function(){var e=l();$(r.headingSelector,this).each(function(t,n){$(n).wrapInner(e).children("a").eq(0).append(r.itemStateIndicator)})})};